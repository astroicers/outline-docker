# Outline Wiki Docker 部署設定範例
# 複製此檔案為 .env 並填入你的設定
# cp .env.example .env

NODE_ENV=production

# === 網域設定 ===
# 修改為你的網域
URL=https://wiki.example.com
PORT=3000

# === 安全金鑰 ===
# 執行 setup.sh 會自動產生，或手動執行：
# openssl rand -hex 32
SECRET_KEY=
UTILS_SECRET=

# === 資料庫 ===
# 執行 setup.sh 會自動產生密碼
POSTGRES_PASSWORD=
DATABASE_URL=postgres://outline:${POSTGRES_PASSWORD}@postgres:5432/outline
PGSSLMODE=disable

# === Redis ===
REDIS_URL=redis://redis:6379

# === 檔案儲存 ===
FILE_STORAGE=local
FILE_STORAGE_LOCAL_ROOT_DIR=/var/lib/outline/data
FILE_STORAGE_UPLOAD_MAX_SIZE=262144000

# === Keycloak 管理員 ===
# 執行 setup.sh 會自動產生密碼
KEYCLOAK_ADMIN_PASSWORD=

# === OIDC (Keycloak) ===
# 執行 setup.sh 會自動產生 Client Secret
# 修改 auth.example.com 為你的 Keycloak 網域
OIDC_CLIENT_ID=outline
OIDC_CLIENT_SECRET=
OIDC_AUTH_URI=https://auth.example.com/realms/outline/protocol/openid-connect/auth
OIDC_TOKEN_URI=https://auth.example.com/realms/outline/protocol/openid-connect/token
OIDC_USERINFO_URI=https://auth.example.com/realms/outline/protocol/openid-connect/userinfo
OIDC_LOGOUT_URI=https://auth.example.com/realms/outline/protocol/openid-connect/logout
OIDC_DISPLAY_NAME=Keycloak
OIDC_SCOPES=openid profile email

# === SSL ===
FORCE_HTTPS=true

# === Rate Limiter ===
RATE_LIMITER_ENABLED=true
RATE_LIMITER_REQUESTS=1000
RATE_LIMITER_DURATION_WINDOW=60

# === 其他 ===
DEFAULT_LANGUAGE=zh_TW
WEB_CONCURRENCY=1
LOG_LEVEL=info
